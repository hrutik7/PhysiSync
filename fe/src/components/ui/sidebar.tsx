import { useState, useEffect } from "react";
import { Link, useLocation } from "react-router-dom";
import Logo from "../logo";

const Sidebar = () => {
  const location = useLocation();
  const [isSidebarOpen, setIsSidebarOpen] = useState(true);
  const [isMobile, setIsMobile] = useState(false);

  // Toggle sidebar state
  const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen);

  // Check mobile state on window resize
  useEffect(() => {
    const checkIsMobile = () => setIsMobile(window.innerWidth < 768);
    checkIsMobile();
    window.addEventListener("resize", checkIsMobile);
    return () => window.removeEventListener("resize", checkIsMobile);
  }, []);

  // Close sidebar on mobile when route changes
  useEffect(() => {
    if (isMobile) setIsSidebarOpen(false);
  }, [location, isMobile]);

  const menuItems = [
    {
      path: "/",
      name: "Patients",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className="lucide lucide-list"
        >
          <path d="M3 12h.01" />
          <path d="M3 18h.01" />
          <path d="M3 6h.01" />
          <path d="M8 12h13" />
          <path d="M8 18h13" />
          <path d="M8 6h13" />
        </svg>
      ),
    },
    {
      path: "/profile",
      name: "Profile",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className="lucide lucide-user"
        >
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
          <circle cx="12" cy="7" r="4" />
        </svg>
      ),
    },
    {
      path: "/consent",
      name: "Consent Form",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className="lucide lucide-letter-text"
        >
          <path d="M15 12h6" />
          <path d="M15 6h6" />
          <path d="m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13" />
          <path d="M3 18h18" />
          <path d="M4 11h6" />
        </svg>
      ),
    },
    
    // {
    //   path: "/SOAP",
    //   name: "SOAP notes",
    //   icon: (
    //     <svg
    //       xmlns="http://www.w3.org/2000/svg"
    //       width="24"
    //       height="24"
    //       viewBox="0 0 24 24"
    //       fill="none"
    //       stroke="currentColor"
    //       strokeWidth="2"
    //       strokeLinecap="round"
    //       strokeLinejoin="round"
    //       className="lucide lucide-notebook-pen"
    //     >
    //       <path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4" />
    //       <path d="M2 6h4" />
    //       <path d="M2 10h4" />
    //       <path d="M2 14h4" />
    //       <path d="M2 18h4" />
    //       <path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z" />
    //     </svg>
    //   ),
    // },
    {
      path: "/Consultation",
      name: "Consultation",
      icon: (
        <svg
          enable-background="new 0 0 28 28"
          viewBox="0 0 32 32"
          width="28"
          height="28"
          xmlns="http://www.w3.org/2000/svg"
          id="fi_12539633"
          // color="grey"
          fill="currentColor"
          className="lucide lucide-headphones"
        >
          <g id="Grid" display="none"></g>
          <g id="Headphone"></g>
          <g id="chat_1_"></g>
          <g id="Message"></g>
          <g id="Newspaper"></g>
          <g id="Walkie_Talkie"></g>
          <g id="Boombox_Radio"></g>
          <g id="Microphone"></g>
          <g id="Bell"></g>
          <g id="TV"></g>
          <g id="Website"></g>
          <g id="Megaphone"></g>
          <g id="Global_Networking"></g>
          <g id="Write_a_message"></g>
          <g id="No_Chat"></g>
          <g id="Networking"></g>
          <g id="Computer"></g>
          <g id="Telephone"></g>
          <g id="Interaction"></g>
          <g id="New_Chat"></g>
          <g id="Wifi_Router"></g>
          <g id="Conversation">
            <path d="m22.366 12.491c2.354 0 4.269-1.915 4.269-4.269v-2.853c0-2.354-1.915-4.269-4.269-4.269h-12.732c-2.354 0-4.269 1.915-4.269 4.269v2.854c0 2.354 1.915 4.269 4.269 4.269h3.001l2.152 2.329c.312.337.754.53 1.213.53s.901-.193 1.213-.53l2.152-2.329h3.001zm-4.056-1.511-2.31 2.5-2.31-2.5c-.17-.185-.41-.289-.661-.289h-3.395c-1.361 0-2.469-1.108-2.469-2.469v-2.853c0-1.361 1.107-2.469 2.469-2.469h12.731c1.361 0 2.469 1.107 2.469 2.469v2.854c0 1.361-1.107 2.469-2.469 2.469h-3.395c-.25-.001-.49.104-.66.288z"></path>
            <path d="m12.1 5.896h-.333c-.497 0-.9.403-.9.9s.403.9.9.9h.333c.497 0 .9-.403.9-.9s-.403-.9-.9-.9z"></path>
            <path d="m16.166 5.896h-.332c-.497 0-.9.403-.9.9s.403.9.9.9h.332c.497 0 .9-.403.9-.9s-.403-.9-.9-.9z"></path>
            <path d="m20.232 5.896h-.332c-.497 0-.9.403-.9.9s.403.9.9.9h.333c.497 0 .9-.403.9-.9s-.404-.9-.901-.9z"></path>
            <path d="m27.093 23.498c.875-.842 1.425-2.019 1.425-3.327 0-2.551-2.076-4.627-4.627-4.627s-4.627 2.076-4.627 4.627c0 1.308.55 2.485 1.425 3.327-1.716.814-2.914 2.549-2.914 4.571v.596c0 .876.622 1.631 1.479 1.794 1.525.292 3.085.44 4.636.44s3.111-.148 4.636-.44c.857-.164 1.479-.918 1.479-1.794v-.596c.002-2.021-1.196-3.757-2.912-4.571zm-3.201-6.154c1.559 0 2.827 1.268 2.827 2.827s-1.268 2.827-2.827 2.827-2.827-1.268-2.827-2.827 1.268-2.827 2.827-2.827zm4.298 11.348c-2.622.502-5.337.517-7.973.089-.214-.037-.428-.071-.641-.116v-.596c0-1.804 1.467-3.271 3.271-3.271h2.089c1.804 0 3.271 1.467 3.271 3.271z"></path>
            <path d="m11.31 23.498c.875-.842 1.425-2.019 1.425-3.327 0-2.551-2.076-4.627-4.627-4.627s-4.627 2.076-4.627 4.627c0 1.308.55 2.485 1.425 3.327-1.716.814-2.914 2.549-2.914 4.571v.596c0 .876.622 1.631 1.479 1.794 1.525.292 3.085.44 4.636.44s3.111-.148 4.636-.44c.857-.164 1.479-.918 1.479-1.794v-.596c.002-2.021-1.196-3.757-2.912-4.571zm-3.202-6.154c1.559 0 2.827 1.268 2.827 2.827s-1.268 2.827-2.827 2.827-2.827-1.268-2.827-2.827 1.268-2.827 2.827-2.827zm4.299 11.348c-2.622.502-5.337.517-7.973.089-.214-.037-.428-.071-.641-.116v-.596c0-1.804 1.467-3.271 3.271-3.271h2.089c1.804 0 3.271 1.467 3.271 3.271z"></path>
          </g>
          <g id="No_Comment"></g>
          <g id="Video_Call"></g>
          <g id="Contact"></g>
          <g id="Chatting"></g>
        </svg>
      ),
    },
    // {
    //   path: "/AX",
    //   name: "AX Template",
    //   icon: (
    //     <svg
    //       xmlns="http://www.w3.org/2000/svg"
    //       width="24"
    //       height="24"
    //       viewBox="0 0 24 24"
    //       fill="none"
    //       stroke="currentColor"
    //       strokeWidth="2"
    //       strokeLinecap="round"
    //       strokeLinejoin="round"
    //       className="lucide lucide-notepad-text-dashed"
    //     >
    //       <path d="M8 2v4" />
    //       <path d="M12 2v4" />
    //       <path d="M16 2v4" />
    //       <path d="M16 4h2a2 2 0 0 1 2 2v2" />
    //       <path d="M20 12v2" />
    //       <path d="M20 18v2a2 2 0 0 1-2 2h-1" />
    //       <path d="M13 22h-2" />
    //       <path d="M7 22H6a2 2 0 0 1-2-2v-2" />
    //       <path d="M4 14v-2" />
    //       <path d="M4 8V6a2 2 0 0 1 2-2h2" />
    //       <path d="M8 10h6" />
    //       <path d="M8 14h8" />
    //       <path d="M8 18h5" />
    //     </svg>
    //   ),
    // },
    // {
    //   path: "/custom",
    //   name: "Custom assesments",
    //   icon: (
    //     <svg
    //       xmlns="http://www.w3.org/2000/svg"
    //       x="0px"
    //       y="0px"
    //       width="30"
    //       height="30"
    //       viewBox="0 0 50 50"
    //       stroke="currentColor"
    //       fill="none"
    //     >
    //       <path d="M 7 7 C 5.3550302 7 4 8.3550302 4 10 L 4 40 C 4 41.64497 5.3550302 43 7 43 L 43 43 C 44.64497 43 46 41.64497 46 40 L 46 10 C 46 8.3550302 44.64497 7 43 7 L 7 7 z M 7 9 L 43 9 C 43.56503 9 44 9.4349698 44 10 L 44 13 L 6 13 L 6 10 C 6 9.4349698 6.4349698 9 7 9 z M 8 10 A 1 1 0 0 0 7 11 A 1 1 0 0 0 8 12 A 1 1 0 0 0 9 11 A 1 1 0 0 0 8 10 z M 11 10 A 1 1 0 0 0 10 11 A 1 1 0 0 0 11 12 A 1 1 0 0 0 12 11 A 1 1 0 0 0 11 10 z M 14 10 A 1 1 0 0 0 13 11 A 1 1 0 0 0 14 12 A 1 1 0 0 0 15 11 A 1 1 0 0 0 14 10 z M 6 15 L 44 15 L 44 40 C 44 40.56503 43.56503 41 43 41 L 7 41 C 6.4349698 41 6 40.56503 6 40 L 6 15 z M 36.980469 18.988281 A 1.0001 1.0001 0 0 0 36.167969 19.445312 L 32.84375 24.429688 L 30.707031 22.292969 A 1.0001 1.0001 0 0 0 29.990234 21.990234 A 1.0001 1.0001 0 0 0 29.292969 23.707031 L 32.175781 26.589844 A 1.0001 1.0001 0 0 0 32.884766 27.005859 A 1.0001 1.0001 0 0 0 32.908203 27.009766 A 1.0001 1.0001 0 0 0 33.007812 27.013672 A 1.0001 1.0001 0 0 0 33.017578 27.013672 A 1.0001 1.0001 0 0 0 33.027344 27.013672 A 1.0001 1.0001 0 0 0 33.945312 26.382812 L 37.832031 20.554688 A 1.0001 1.0001 0 0 0 36.980469 18.988281 z M 13 22 A 1.0001 1.0001 0 1 0 13 24 L 24 24 A 1.0001 1.0001 0 1 0 24 22 L 13 22 z M 36.980469 28.988281 A 1.0001 1.0001 0 0 0 36.167969 29.445312 L 32.84375 34.429688 L 30.707031 32.292969 A 1.0001 1.0001 0 0 0 29.990234 31.990234 A 1.0001 1.0001 0 0 0 29.292969 33.707031 L 32.175781 36.589844 A 1.0001 1.0001 0 0 0 32.884766 37.005859 A 1.0001 1.0001 0 0 0 32.908203 37.009766 A 1.0001 1.0001 0 0 0 33.007812 37.013672 A 1.0001 1.0001 0 0 0 33.017578 37.013672 A 1.0001 1.0001 0 0 0 33.027344 37.013672 A 1.0001 1.0001 0 0 0 33.945312 36.382812 L 37.832031 30.554688 A 1.0001 1.0001 0 0 0 36.980469 28.988281 z M 13 32 A 1.0001 1.0001 0 1 0 13 34 L 24 34 A 1.0001 1.0001 0 1 0 24 32 L 13 32 z"></path>
    //     </svg>
    //   ),
    // },
    // {
    //   path: "/chart",
    //   name: "Body Chart",
    //   icon: (
    //     <svg
    //       xmlns="http://www.w3.org/2000/svg"
    //       width="24"
    //       height="24"
    //       viewBox="0 0 24 24"
    //       fill="none"
    //       stroke="currentColor"
    //       strokeWidth="2"
    //       strokeLinecap="round"
    //       strokeLinejoin="round"
    //       className="lucide lucide-person-standing"
    //     >
    //       <circle cx="12" cy="5" r="1" />
    //       <path d="m9 20 3-6 3 6" />
    //       <path d="m6 8 6 2 6-2" />
    //       <path d="M12 10v4" />
    //     </svg>
    //   ),
    // },
    // {
    //   path: "/investigation",
    //   name: "Investigation",
    //   icon: (
    //     <svg
    //       xmlns="http://www.w3.org/2000/svg"
    //       width="24"
    //       height="24"
    //       viewBox="0 0 24 24"
    //       fill="none"
    //       stroke="currentColor"
    //       strokeWidth="2"
    //       strokeLinecap="round"
    //       strokeLinejoin="round"
    //       className="lucide lucide-search"
    //     >
    //       <circle cx="11" cy="11" r="8" />
    //       <path d="m21 21-4.3-4.3" />
    //     </svg>
    //   ),
    // },
    {
      path: "/intervention",
      name: "Intervention",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          width="24"
          height="24"
          viewBox="0 0 50 50"
          stroke="currentColor"
        >
          <path d="M 26.5 0.001953125 C 26.322813 0.006640625 26.160312 0.10453125 26.070312 0.26953125 L 19.890625 11.939453 L 24.5 13.230469 L 24.839844 13.330078 L 26.349609 13.75 L 26.359375 13.75 L 28.199219 14.279297 L 28.400391 14.330078 C 28.400391 14.330078 31.700078 15.260781 31.830078 15.300781 C 32.120078 15.380781 32.450156 15.470859 32.910156 15.630859 L 32.939453 15.630859 L 32.960938 15.640625 C 33.040938 15.670625 33.119219 15.700234 33.199219 15.740234 L 33.310547 15.710938 L 34.630859 15.359375 L 35.289062 15.189453 C 35.479062 15.139453 35.849375 15.029922 36.109375 14.919922 C 37.249375 14.449922 38.230547 13.580469 38.810547 12.480469 C 39.400547 11.390469 39.579844 10.090859 39.339844 8.8808594 C 39.099844 7.6508594 38.419219 6.5302344 37.449219 5.7402344 C 37.169219 5.5002344 36.859531 5.3008594 36.519531 5.1308594 L 36.519531 5.109375 C 35.495781 4.295625 34.211953 3.9031836 32.935547 3.9785156 C 32.753203 3.9892773 32.571875 4.0090625 32.390625 4.0390625 C 32.020625 4.0990625 31.660781 4.1998438 31.300781 4.3398438 L 30.759766 4.5507812 L 29.660156 4.9902344 C 29.220156 5.1702344 29.099453 5.7403125 29.439453 6.0703125 C 29.749453 6.3703125 30.149609 6.7190625 30.599609 7.0390625 C 31.109609 7.3990625 31.700312 7.7301563 32.320312 7.9101562 C 32.750313 8.2801562 33.319453 8.5 33.939453 8.5 L 34.089844 8.5 C 34.749844 8.5 35.379531 9.0094531 35.519531 9.6894531 C 35.679531 10.359453 35.279141 11.140156 34.619141 11.410156 C 34.509141 11.460156 34.459063 11.469531 34.289062 11.519531 L 28.830078 13.060547 L 29.220703 11.910156 L 29.990234 9.6601562 C 30.050234 9.4701563 29.999375 9.270625 29.859375 9.140625 C 29.719375 9.000625 29.510078 8.9590625 29.330078 9.0390625 L 25.169922 10.699219 L 27.009766 0.58984375 C 27.049766 0.34984375 26.909688 0.10929688 26.679688 0.029296875 C 26.619688 0.009296875 26.559062 0.000390625 26.5 0.001953125 z M 15.501953 3.96875 C 14.589232 4.0066174 13.691255 4.2844657 12.90625 4.7832031 C 12.74918 4.8830664 12.596719 4.991875 12.449219 5.109375 L 12.460938 5.140625 C 12.130938 5.300625 11.830781 5.5102344 11.550781 5.7402344 C 10.580781 6.5302344 9.9001563 7.6508594 9.6601562 8.8808594 C 9.4201562 10.090859 9.5994531 11.390469 10.189453 12.480469 C 10.769453 13.580469 11.750625 14.449922 12.890625 14.919922 C 13.150625 15.029922 13.520938 15.139453 13.710938 15.189453 C 13.710938 15.189453 31.159688 19.759609 31.429688 19.849609 C 32.059687 20.069609 32.630781 20.479766 33.050781 21.009766 C 33.910781 22.079766 34.060156 23.649141 33.410156 24.869141 C 33.090156 25.479141 32.600234 25.999844 31.990234 26.339844 C 31.690234 26.509844 31.369297 26.640703 31.029297 26.720703 L 29.699219 27.029297 L 29.060547 27.179688 L 29.369141 26.080078 L 29.679688 24.980469 L 30.609375 21.689453 C 30.469375 21.649453 30.289375 21.610547 30.109375 21.560547 L 29.699219 21.449219 L 28.380859 21.099609 L 28.310547 21.080078 L 25.439453 23 L 26.279297 20.550781 L 24.5 20.089844 L 23.099609 19.720703 L 22.519531 19.570312 L 20.560547 19.050781 L 20.230469 18.960938 L 16 17.849609 C 15.23 18.259609 14.549531 18.839063 14.019531 19.539062 C 13.329531 20.449062 12.920078 21.559453 12.830078 22.689453 C 12.750078 23.819453 12.989062 24.980703 13.539062 25.970703 C 14.079062 26.960703 14.900391 27.799844 15.900391 28.339844 C 16.140391 28.469844 16.390625 28.589688 16.640625 28.679688 C 16.810625 28.749687 16.980391 28.799609 17.150391 28.849609 L 17.160156 28.859375 C 17.260156 28.879375 17.370703 28.909688 17.470703 28.929688 L 28.150391 31.210938 L 28.789062 31.349609 C 28.929062 31.379609 29.069219 31.420703 29.199219 31.470703 C 29.219219 31.480703 29.249531 31.49 29.269531 31.5 C 30.529531 32.01 31.279688 33.499844 30.929688 34.839844 C 30.769688 35.499844 30.370313 36.109531 29.820312 36.519531 C 29.530313 36.719531 29.249141 36.860469 28.869141 36.980469 L 27.800781 37.320312 L 28.539062 37.550781 L 29.160156 37.75 C 29.380156 37.81 29.950703 38.009609 30.470703 38.349609 C 30.630703 38.269609 30.779688 38.170313 30.929688 38.070312 C 31.849688 37.410313 32.540078 36.430312 32.830078 35.320312 C 33.120078 34.220313 32.999766 33.020234 32.509766 31.990234 C 32.329766 31.600234 32.090313 31.239922 31.820312 30.919922 C 31.550312 30.609922 31.240391 30.319844 30.900391 30.089844 C 30.650391 29.909844 30.379609 29.760859 30.099609 29.630859 C 29.879609 29.530859 29.650156 29.450625 29.410156 29.390625 C 29.370156 29.370625 29.329062 29.359609 29.289062 29.349609 L 28.599609 29.179688 L 17.970703 26.720703 C 17.850703 26.690703 17.729141 26.659375 17.619141 26.609375 C 17.409141 26.539375 17.199766 26.449844 17.009766 26.339844 C 16.399766 25.999844 15.909844 25.479141 15.589844 24.869141 C 14.939844 23.649141 15.089219 22.079766 15.949219 21.009766 C 16.369219 20.479766 16.940313 20.069609 17.570312 19.849609 C 17.840313 19.759609 18.379062 19.629531 18.789062 19.519531 L 20.109375 19.169922 L 20.169922 19.160156 L 19.779297 20.289062 L 19.390625 21.429688 L 18.259766 24.720703 C 18.319766 24.740703 18.369922 24.759531 18.419922 24.769531 L 19.75 25.080078 L 24.5 26.179688 L 25.060547 26.310547 L 26.720703 26.699219 L 27.720703 26.929688 L 28.929688 27.210938 L 29.039062 27.240234 L 29.060547 27.240234 L 29.779297 27.410156 C 30.179297 27.510156 30.559922 27.650547 30.919922 27.810547 C 31.439922 28.040547 31.919375 28.329687 32.359375 28.679688 C 32.609375 28.589688 32.859609 28.469844 33.099609 28.339844 C 34.099609 27.799844 34.920938 26.960703 35.460938 25.970703 C 36.010938 24.980703 36.249922 23.819453 36.169922 22.689453 C 36.079922 21.559453 35.670469 20.449063 34.980469 19.539062 C 34.450469 18.839063 33.77 18.259609 33 17.849609 C 32.76 17.719609 32.519531 17.609531 32.269531 17.519531 C 31.899531 17.399531 31.629141 17.32 31.369141 17.25 L 14.439453 12.490234 C 14.199453 12.420234 14.130703 12.390078 13.970703 12.330078 C 12.870703 11.870078 12.24 10.600938 12.5 9.4609375 C 12.68 8.6409375 13.290781 7.9699219 14.050781 7.6699219 C 14.930781 8.1699219 15.839688 8.1603906 16.679688 7.9003906 C 17.309688 7.7103906 17.900156 7.3797656 18.410156 7.0097656 C 18.850156 6.6997656 19.229297 6.3603125 19.529297 6.0703125 C 19.869297 5.7403125 19.750547 5.1702344 19.310547 4.9902344 L 18.25 4.5703125 L 17.669922 4.3398438 C 17.319922 4.1998437 16.959609 4.0990625 16.599609 4.0390625 C 16.234609 3.9765625 15.867266 3.9535938 15.501953 3.96875 z M 17.189453 30.910156 C 16.909453 31.240156 16.670234 31.600234 16.490234 31.990234 C 16.000234 33.020234 15.879922 34.220312 16.169922 35.320312 C 16.459922 36.430312 17.150312 37.410313 18.070312 38.070312 C 18.220313 38.170313 18.369297 38.269609 18.529297 38.349609 C 18.869297 38.539609 19.240078 38.679297 19.580078 38.779297 L 28.070312 41.310547 C 28.270312 41.370547 28.360234 41.410234 28.490234 41.490234 C 28.980234 41.780234 29.250625 42.390937 29.140625 42.960938 C 29.080625 43.240937 28.940234 43.500937 28.740234 43.710938 C 28.620234 43.820937 28.539375 43.870469 28.359375 43.980469 L 27.759766 44.320312 L 26.529297 45.019531 L 28.160156 45.949219 L 28.550781 45.730469 L 29.150391 45.410156 C 29.360391 45.300156 29.660859 45.100625 29.880859 44.890625 C 30.330859 44.460625 30.639531 43.899062 30.769531 43.289062 C 30.969531 42.369062 30.709609 41.380156 30.099609 40.660156 C 29.909609 40.420156 29.680156 40.209063 29.410156 40.039062 C 29.340156 39.989062 29.249922 39.940391 29.169922 39.900391 C 28.969922 39.790391 28.750078 39.710156 28.580078 39.660156 L 20.130859 36.980469 C 19.750859 36.860469 19.469687 36.719531 19.179688 36.519531 C 18.629688 36.109531 18.230313 35.499844 18.070312 34.839844 C 17.720313 33.499844 18.470469 32.01 19.730469 31.5 C 19.750469 31.49 19.780781 31.480703 19.800781 31.470703 L 17.189453 30.910156 z M 23.689453 32.300781 L 23.669922 32.650391 L 23.490234 35.949219 L 24.5 36.269531 L 26.150391 36.789062 L 26.160156 36.789062 L 26.330078 36.849609 L 26.359375 36.730469 L 26.689453 35.570312 L 27.390625 33.089844 L 26.400391 32.880859 L 24.5 32.470703 L 23.730469 32.310547 L 23.689453 32.300781 z M 18.900391 40.660156 C 18.290391 41.380156 18.030469 42.369062 18.230469 43.289062 C 18.360469 43.899063 18.669141 44.460625 19.119141 44.890625 C 19.339141 45.100625 19.639609 45.300156 19.849609 45.410156 L 26.589844 49.080078 L 27.640625 49.650391 C 27.750625 49.710391 27.870234 49.730469 27.990234 49.730469 C 28.250234 49.730469 28.500625 49.599375 28.640625 49.359375 C 28.840625 49.009375 28.709375 48.559609 28.359375 48.349609 L 28.140625 48.230469 L 20.640625 43.980469 C 20.460625 43.870469 20.379766 43.820937 20.259766 43.710938 C 20.059766 43.500937 19.919375 43.240938 19.859375 42.960938 C 19.749375 42.390937 20.019766 41.780234 20.509766 41.490234 C 20.639766 41.410234 20.729688 41.370547 20.929688 41.310547 L 21.009766 41.289062 C 21.009766 41.289062 18.940391 40.670156 18.900391 40.660156 z"></path>
        </svg>
      ),
    },
    {
      path: "/BOTenable",
      name: "virtual assistant",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          className="lucide lucide-bot"
        >
          <path d="M12 8V4H8" />
          <rect width="16" height="12" x="4" y="8" rx="2" />
          <path d="M2 14h2" />
          <path d="M20 14h2" />
          <path d="M15 13v2" />
          <path d="M9 13v2" />
        </svg>
      ),
    },
  ];

  return (
    <>
      {/* Overlay for mobile */}
      {isMobile && isSidebarOpen && (
        <div
          className="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity duration-300 ease-in-out md:hidden"
          onClick={toggleSidebar}
        />
      )}

      {/* Sidebar */}
      <button
        onClick={toggleSidebar}
        className="p-2 rounded-lg hover:bg-gray-100 transition-colors md:hidden"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          className="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            strokeWidth={2}
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>

      <div
        className={`fixed md:relative z-40 h-screen w-64 bg-white border-r shadow-sm transform transition-all duration-300 ease-in-out
        ${isMobile ? "md:translate-x-0" : ""} 
        ${
          isSidebarOpen ? "translate-x-0" : "-translate-x-full md:translate-x-0"
        }`}
      >
        {/* Logo and Toggle Section */}
        <div className="p-4 border-b flex items-center justify-between">
          <div className="flex items-center">
            <img src="/logo.png" alt="Logo" className="w-10 h-10" />
            <h1 className="text-xl ml-2 font-bold text-gray-800">PhysiSync</h1>
          </div>

          {/* Toggle Button */}
        </div>

        {/* Menu Items */}
        <nav className="p-4 space-y-2">
          {menuItems.map((item) => (
            <Link
              key={item.path}
              to={item.path}
              className={`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors
              ${
                location.pathname === item.path
                  ? "bg-blue-50 text-blue-600 color-blue-600 "
                  : "text-gray-600 hover:bg-gray-50"
              }`}
            >
              {item.icon}
              <span className="font-medium">{item.name}</span>
            </Link>
          ))}
        </nav>

        {/* Logout Button */}
        <div
          onClick={() => {
            localStorage.removeItem("userData");
            localStorage.removeItem("activePatient");
            const logoutDiv = document.getElementById("logout-animation");
            if (logoutDiv) {
              logoutDiv.classList.add("animate-pulse");
              setTimeout(() => {
          window.location.href = "/";
              }, 500);
            }
          }}
          id="logout-animation"
          className="absolute bottom-4 left-4 right-4 border rounded-sm h-10 text-center align-middle py-2 text-red-600 font-semibold hover:cursor-pointer border-red-600 hover:bg-red-50 transition-colors"
        >
          Log Out
        </div>
      </div>

      {/* Mobile Toggle Button - Only visible when sidebar is closed */}
      {!isSidebarOpen && (
        <button
          onClick={toggleSidebar}
          className="fixed top-1 left-2 z-50 p-2 rounded-lg bg-white shadow-md hover:bg-gray-50 transition-colors md:hidden"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </button>
      )}
    </>
  );
};

export default Sidebar;
